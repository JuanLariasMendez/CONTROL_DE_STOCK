package com.alura.jdbc.dao;import com.alura.jdbc.modelo.Categoria;import java.sql.Connection;import java.sql.PreparedStatement;import java.sql.ResultSet;import java.sql.SQLException;import java.util.ArrayList;import java.util.List;public class CategoriaDAO {    private Connection con;    public CategoriaDAO(Connection con) {        this.con=con;    }    public List<Categoria> lista() {        List<Categoria> resultado = new ArrayList<>();        try {            final PreparedStatement statement = con.prepareStatement(                    "SELECT ID, NOMBRE, FROM CATERORIA");            try(statement) {                final ResultSet resultSet = statement.executeQuery();//Con executeQuery() tenemos acceso directo para ejecutar la query y ya tomar el resultado.) {                try(resultSet){                    //con este resultSet utilizando wile, nosotros vamos a tomar cada fila de resultado para crear un objeto del tipo categoría y agregar al listado de resultados.                    while(resultSet.next()){                        var categoria = new Categoria(resultSet.getInt("ID"),                                resultSet.getString("NOMBRE"));//tomamos las categorias de sus columnas                        resultado.add(categoria);//la agregamos a la lista                    }                };            }            //statement.execute();//devuelve un boolean y después tenemos que hacer un statement.getResultSet para tomar los resultados        } catch (SQLException e) {            throw new RuntimeException(e);        }        return resultado;    }}